var popup=document.querySelector(".modal-feedback"),modalLink=document.querySelector(".feedback-open-button"),modalClose=popup.querySelector(".modal-close"),form=popup.querySelector(".feedback-form"),fieldName=popup.querySelector("[name=name]"),fieldEmail=popup.querySelector("[name=email"),fieldMessage=popup.querySelector("textarea"),toggles=document.querySelectorAll(".slider-toggle"),sliders=document.querySelectorAll(".slider-item");modalLink.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),fieldName.focus()}),modalClose.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error"),fieldEmail.classList.remove("feedback-field-invalid"),fieldMessage.classList.remove("feedback-field-invalid")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal-show")&&(e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error"),fieldEmail.classList.remove("feedback-field-invalid"),fieldMessage.classList.remove("feedback-field-invalid"))}),form.addEventListener("submit",function(e){fieldEmail.value&&fieldMessage.value||(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"),fieldEmail.value||fieldEmail.classList.add("feedback-field-invalid"),fieldMessage.value||fieldMessage.classList.add("feedback-field-invalid"))}),fieldMessage.addEventListener("input",function(){fieldMessage.classList.remove("feedback-field-invalid")}),fieldEmail.addEventListener("input",function(){fieldEmail.classList.remove("feedback-field-invalid")});for(var addTogglesClickHandler=function(l,i){l.addEventListener("click",function(){for(var e=0;e<toggles.length;e++)toggles[e].classList.remove("slider-toggle-active"),sliders[e].classList.remove("slider-item-show");l.classList.add("slider-toggle-active"),i.classList.add("slider-item-show")})},i=0;i<toggles.length;i++)addTogglesClickHandler(toggles[i],sliders[i]);